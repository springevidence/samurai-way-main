"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[487],{2487:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var n=e(1413),r=e(5671),u=e(3144),i=e(136),o=e(516),a=e(2791),c=e(8388),p=e(9439),l=e(184),d=function(t){var s=(0,a.useState)(!1),e=(0,p.Z)(s,2),n=e[0],r=e[1],u=(0,a.useState)(t.status),i=(0,p.Z)(u,2),o=i[0],c=i[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,l.jsxs)("div",{children:[!n&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"------"})}),n&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(o)},value:o})})]})},f=function(t){return t.profile?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:t.profile.photos.large,alt:"user photo"})}),(0,l.jsx)(d,{status:t.status,updateStatus:t.updateStatus})]}):(0,l.jsx)(c.Z,{})},h="MyPosts_postsBlock__lB-pf",x="MyPosts_posts__GSiZ2",j="Post_item__Yu4oG",v=function(t){return(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"avatar"}),t.message,(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[t.likesCount," likes"]})})]})},m=e(5078),g=function(t){return(0,l.jsx)(m.l0,{onSubmit:function(s){t.addPost(s.newPostText)},render:function(t){var s=t.handleSubmit;return(0,l.jsxs)("form",{onSubmit:s,children:[(0,l.jsx)("div",{children:(0,l.jsx)(m.gN,{name:"newPostText",type:"textarea",component:"textarea",placeholder:"Type post"})}),(0,l.jsx)("button",{type:"submit",children:"Add post"})]})}})},P=e(81),S=e(8687),y=(0,S.$j)((function(t){return{newPostText:t.profilePage.newPostText,posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,P.Pi)(s))}}}))((function(t){var s=t.posts.map((function(t){return(0,l.jsx)(v,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,l.jsxs)("div",{className:h,children:["My posts",(0,l.jsx)("div",{children:(0,l.jsx)(g,{addPost:function(s){t.addPost(s)}})}),(0,l.jsx)("div",{children:"New post"}),(0,l.jsx)("div",{className:x,children:s})]})})),b=function(t){return(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,l.jsx)(y,{})]})},k=e(5571),w=e(7781),Z=function(t){(0,i.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.profile.userId;t||(t=1),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,l.jsx)("div",{children:(0,l.jsx)(b,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus}))})}}]),e}(a.Component),_=((0,k.e)(Z),{setUserProfile:P.kC,getUserProfile:P.d$,getUserStatus:P.Qw,updateUserStatus:P.wM}),C=(0,w.qC)((0,S.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),_),k.e)(Z)},5571:function(t,s,e){e.d(s,{e:function(){return p}});var n=e(1413),r=e(3366);e(2791);var u=e(7689),i=e(8687),o=e(184),a=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function p(t){return(0,i.$j)(c)((function(s){var e=s.isAuth,i=function(t,s){if(null==t)return{};var e,n,u=(0,r.Z)(t,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)e=i[n],s.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(u[e]=t[e])}return u}(s,a);return e?(0,o.jsx)(t,(0,n.Z)({},i)):(0,o.jsx)(u.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=487.13b0a231.chunk.js.map